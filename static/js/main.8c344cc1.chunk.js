(this["webpackJsonpfrutos-secos-tuc-degregorio"]=this["webpackJsonpfrutos-secos-tuc-degregorio"]||[]).push([[0],{50:function(t,e,c){},51:function(t,e,c){},59:function(t,e,c){"use strict";c.r(e);var i=c(6),n=c.n(i),r=c(42),s=c.n(r),a=(c(50),c(51),c(29)),j=c(19),o=c(11),d=c(3),l=Object(i.createContext)([]);function u(t){var e=t.children,c=Object(i.useState)([]),n=Object(o.a)(c,2),r=n[0],s=n[1],u=Object(i.useState)(""),b=Object(o.a)(u,2),O=b[0],h=b[1],p=Object(i.useState)({buyer:{name:"Juan P\xe9rez",phone:"+54 9 9999-9999",email:"juanperezl@gmail.com"},compras:[],totalPrice:"",date:(new Date).toString()}),x=Object(o.a)(p,2),f=x[0],m=x[1];var v=r.reduce((function(t,e){return t+e.price*e.cantidad}),0);return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(l.Provider,{value:{compras:r,addItem:function(t,e){!function(t){if(null===r||void 0===r?void 0:r.find((function(e){return e.id===t.id})))return!0}(t)?s([].concat(Object(j.a)(r),[Object(a.a)(Object(a.a)({},t),{},{cantidad:e})])):r.map((function(e){e.id===t.id&&alert("Ya a\xf1adiste ".concat(t.title,' a tu carrito, presiona "atr\xe1s" y selecciona la cantidad total de ').concat(t.title," que deseas."))}))},removeItem:function(t){var e=r.filter((function(e){return e.id!==t.id}));s(e)},clear:function(){s([])},precioTotal:v,newOrder:f,setNewOrder:m,id:O,setId:h},children:e})})}function b(){var t=Object(i.useContext)(l).compras,e=t.reduce((function(t,e){return t+e.cantidad}),0);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("svg",{id:"Layer_1",enableBackground:"new 0 0 511.728 511.728",height:"20",viewBox:"0 0 511.728 511.728",width:"20",xmlns:"http://www.w3.org/2000/svg",children:Object(d.jsx)("path",{d:"m147.925 379.116c-22.357-1.142-21.936-32.588-.001-33.68 62.135.216 226.021.058 290.132.103 17.535 0 32.537-11.933 36.481-29.017l36.404-157.641c2.085-9.026-.019-18.368-5.771-25.629s-14.363-11.484-23.626-11.484c-25.791 0-244.716-.991-356.849-1.438l-17.775-65.953c-4.267-15.761-18.65-26.768-34.978-26.768h-56.942c-8.284 0-15 6.716-15 15s6.716 15 15 15h56.942c2.811 0 5.286 1.895 6.017 4.592l68.265 253.276c-12.003.436-23.183 5.318-31.661 13.92-8.908 9.04-13.692 21.006-13.471 33.695.442 25.377 21.451 46.023 46.833 46.023h21.872c-3.251 6.824-5.076 14.453-5.076 22.501 0 28.95 23.552 52.502 52.502 52.502s52.502-23.552 52.502-52.502c0-8.049-1.826-15.677-5.077-22.501h94.716c-3.248 6.822-5.073 14.447-5.073 22.493 0 28.95 23.553 52.502 52.502 52.502 28.95 0 52.503-23.553 52.503-52.502 0-8.359-1.974-16.263-5.464-23.285 5.936-1.999 10.216-7.598 10.216-14.207 0-8.284-6.716-15-15-15zm91.799 52.501c0 12.408-10.094 22.502-22.502 22.502s-22.502-10.094-22.502-22.502c0-12.401 10.084-22.491 22.483-22.501h.038c12.399.01 22.483 10.1 22.483 22.501zm167.07 22.494c-12.407 0-22.502-10.095-22.502-22.502 0-12.285 9.898-22.296 22.137-22.493h.731c12.24.197 22.138 10.208 22.138 22.493-.001 12.407-10.096 22.502-22.504 22.502zm74.86-302.233c.089.112.076.165.057.251l-15.339 66.425h-51.942l8.845-67.023 58.149.234c.089.002.142.002.23.113zm-154.645 163.66v-66.984h53.202l-8.84 66.984zm-74.382 0-8.912-66.984h53.294v66.984zm-69.053 0h-.047c-3.656-.001-6.877-2.467-7.828-5.98l-16.442-61.004h54.193l8.912 66.984zm56.149-96.983-9.021-67.799 66.306.267v67.532zm87.286 0v-67.411l66.022.266-8.861 67.145zm-126.588-67.922 9.037 67.921h-58.287l-18.38-68.194zm237.635 164.905h-36.426l8.84-66.984h48.973l-14.137 61.217c-.784 3.396-3.765 5.767-7.25 5.767z"})}),Object(d.jsx)("sup",{children:0===t.length?Object(d.jsx)(d.Fragment,{}):e})]})}var O=c(14);function h(){var t=Object(i.useContext)(l).compras;return Object(d.jsxs)("header",{children:[Object(d.jsx)("h1",{children:Object(d.jsx)(O.b,{to:"/",children:"Frutos Secos Tuc"})}),Object(d.jsxs)("nav",{children:[Object(d.jsx)(O.b,{to:"/",children:"Home"}),Object(d.jsx)(O.b,{to:"/",children:"Productos"}),Object(d.jsx)(O.b,{to:"/sinpasas",children:"Sin pasas"}),0!==t.length?Object(d.jsx)(O.b,{to:"/cart",children:Object(d.jsx)(b,{})}):Object(d.jsx)(d.Fragment,{})]})]})}function p(t){var e=t.title,c=t.description,i=t.price,n=t.picture;return Object(d.jsxs)("div",{className:"item",children:[Object(d.jsx)("h2",{children:e}),Object(d.jsx)("img",{src:n,alt:e}),Object(d.jsx)("p",{children:c}),Object(d.jsxs)("p",{children:["$",i,"/Kg"]})]})}var x=c(1),f=c(2),m=c(44),v=c(23);Object(m.a)({apiKey:"AIzaSyBLyvpkEkVa1Mpa7glFJvtUTuUr_06K5fk",authDomain:"frutos-secos-tuc.firebaseapp.com",projectId:"frutos-secos-tuc",storageBucket:"frutos-secos-tuc.appspot.com",messagingSenderId:"269072161459",appId:"1:269072161459:web:db5067b30b2f48424caec6"});var g=Object(v.f)(),k=function(){function t(){Object(x.a)(this,t)}return Object(f.a)(t,null,[{key:"isValidString",value:function(t){return"string"===typeof t&&""!==t}},{key:"isValid",value:function(t){return""!==t}},{key:"isValidOptions",value:function(t){if("object"===typeof t){var e=this.isValidString(t.field),c=this.isValidString(t.condition),i=this.isValid(t.value);return e&&c&&i}return!1}}]),t}(),y=function(){function t(){Object(x.a)(this,t)}return Object(f.a)(t,null,[{key:"getCollection",value:function(){for(var t=arguments.length,e=new Array(t),c=0;c<t;c++)e[c]=arguments[c];return v.b.apply(void 0,[g].concat(e))}},{key:"getDoc",value:function(){for(var t=arguments.length,e=new Array(t),c=0;c<t;c++)e[c]=arguments[c];return v.c.apply(void 0,[g].concat(e))}},{key:"get",value:function(t){var e=t.split("/"),c=this.getDoc.apply(this,Object(j.a)(e));return Object(v.d)(c)}},{key:"getAll",value:function(t,e){var c=t.split("/"),i=this.getCollection.apply(this,Object(j.a)(c));return k.isValidOptions(e)?Object(v.e)(Object(v.g)(i,Object(v.h)(e.field,e.condition,e.value))):Object(v.e)(i)}},{key:"add",value:function(t,e){var c=t.split("/"),i=this.getCollection.apply(this,Object(j.a)(c));return Object(v.a)(i,e)}}]),t}();function C(){var t=Object(i.useState)([]),e=Object(o.a)(t,2),c=e[0],n=e[1];return Object(i.useEffect)((function(){y.getAll("products").then((function(t){var e=[];t.forEach((function(t){var c=t.data();e.push({key:t.id,id:t.id,title:c.title,price:c.price,stock:c.stock,picture:c.picture,description:c.description})})),n(e)}))}),[c]),Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"container-items",children:c.map((function(t){return Object(d.jsx)(O.b,{className:"links",to:"/item/".concat(t.id),children:Object(d.jsx)(p,{title:t.title,picture:t.picture,description:t.description,price:t.price},t.id)})}))})})}function w(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(C,{})})}function S(t){var e=t.stock,c=t.product,n=Object(i.useContext)(l),r=Object(i.useState)(0),s=Object(o.a)(r,2),a=s[0],j=s[1],u=Object(i.useState)(!0),b=Object(o.a)(u,2),h=b[0],p=b[1];return Object(d.jsxs)("div",{children:[h&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{onClick:function(){a<e&&j(a+1)},children:"+"}),Object(d.jsx)("button",{onClick:function(){a>0&&j(a-1)},children:"-"}),Object(d.jsx)("p",{children:a}),Object(d.jsx)("button",{onClick:function(){a>0&&(p(!1),n.addItem(c,a))},children:"A\xf1adir al carrito"})]}),!h&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(O.b,{to:"/cart",children:Object(d.jsx)("button",{children:"Terminar mi compra"})}),Object(d.jsx)("button",{onClick:function(){p(!0),n.removeItem(c)},children:"Atr\xe1s"})]})]})}function F(t){var e=t.title,c=t.description,i=t.price,n=t.picture,r=t.stock,s=t.product;return Object(d.jsx)("div",{className:"container-item-detail",children:Object(d.jsxs)("div",{className:"item-detail",children:[Object(d.jsx)("h2",{children:e}),Object(d.jsx)("img",{src:n,alt:e}),Object(d.jsx)("p",{children:c}),Object(d.jsxs)("p",{children:["$",i,"/Kg"]}),Object(d.jsx)(S,{stock:r,title:e,product:s})]})})}var z=c(12);function I(){var t=Object(z.g)().id,e=Object(i.useState)(),c=Object(o.a)(e,2),n=c[0],r=c[1];return Object(i.useEffect)((function(){y.get("products/".concat(t)).then((function(e){var c=e.data();r({id:t,title:c.title,price:c.price,stock:c.stock,picture:c.picture})}))}),[n]),Object(d.jsx)(d.Fragment,{children:n&&Object(d.jsx)(F,{product:n,title:n.title,description:n.description,price:n.price,picture:n.picture,stock:n.stock},n.id)})}function N(){var t=Object(i.useContext)(l),e=t.compras,c=t.removeItem,n=t.clear,r=t.precioTotal,s=t.newOrder,j=t.setNewOrder,o=t.setId,u=Object(z.f)();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h2",{children:"Mi Carrito"}),Object(d.jsxs)("section",{className:"carrito",children:[Object(d.jsx)("div",{children:0===e.length?Object(d.jsxs)("p",{children:["Tu carrito est\xe1 vac\xedo, para encontrar productos ",Object(d.jsx)(O.b,{to:"/",children:"clicke\xe1 ac\xe1"})]}):e.map((function(t){return Object(d.jsxs)("div",{children:[Object(d.jsx)(O.b,{className:"links",to:"/item/".concat(t.id),children:Object(d.jsx)("h3",{children:t.title})}),Object(d.jsxs)("p",{children:["Cantidad: ",t.cantidad," x $",t.price]}),Object(d.jsxs)("p",{children:["Subtotal: $",t.price*t.cantidad]}),Object(d.jsx)("button",{onClick:function(){return c(t)},children:"Eliminar"})]})}))}),Object(d.jsxs)("div",{children:[0===e.length?Object(d.jsx)(d.Fragment,{}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{onClick:function(){return n()},children:"Vaciar Carrito"}),Object(d.jsxs)("h4",{children:["Total: $",r]})]}),Object(d.jsx)("button",{onClick:function(){j(Object(a.a)(Object(a.a)({},s),{},{totalPrice:r,compras:e})),y.add("orders",s).then((function(t){o(t.id),n(),u.push("/order")}))},children:"Comprar"})]})]})]})}function V(){var t=Object(i.useContext)(l),e=t.newOrder,c=t.id;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"\xa1Gracias por su compra!"}),Object(d.jsxs)("p",{children:["Id: ",c]}),Object(d.jsxs)("p",{children:["Fecha: ",e.date]}),Object(d.jsx)("h4",{children:"Detalle de su orden:"}),Object(d.jsx)("p",{children:e.compras.map((function(t){return Object(d.jsxs)("div",{children:[t.title," - $",t.price," | ",t.cantidad," Unidades"]})}))}),Object(d.jsxs)("h4",{children:["Total: $",e.totalPrice]})]})}function A(){var t=Object(i.useState)([]),e=Object(o.a)(t,2),c=e[0],n=e[1];return Object(i.useEffect)((function(){y.getAll("products",{field:"category",condition:"==",value:"sinpasas"}).then((function(t){var e=[];t.forEach((function(t){var c=t.data();e.push({key:t.id,id:t.id,title:c.title,price:c.price,stock:c.stock,picture:c.picture,description:c.description})})),n(e)}))}),[c]),Object(d.jsx)("div",{className:"container-items",children:c.map((function(t){return Object(d.jsx)(O.b,{className:"links",to:"/item/".concat(t.id),children:Object(d.jsx)(p,{title:t.title,picture:t.picture,description:t.description,price:t.price},t.id)})}))})}var E=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(u,{children:Object(d.jsxs)(O.a,{children:[Object(d.jsx)(h,{}),Object(d.jsxs)(z.c,{children:[Object(d.jsx)(z.a,{exact:!0,path:"/",children:Object(d.jsx)(w,{})}),Object(d.jsx)(z.a,{exact:!0,path:"/category/:id",children:Object(d.jsx)(w,{})}),Object(d.jsx)(z.a,{exact:!0,path:"/sinpasas",children:Object(d.jsx)(A,{})}),Object(d.jsx)(z.a,{exact:!0,path:"/item/:id",children:Object(d.jsx)(I,{})}),Object(d.jsx)(z.a,{exact:!0,path:"/cart",children:Object(d.jsx)(N,{})}),Object(d.jsx)(z.a,{exact:!0,path:"/order",children:Object(d.jsx)(V,{})})]})]})})})};s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(E,{})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.8c344cc1.chunk.js.map